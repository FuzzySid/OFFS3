<br>
<div class="row">
    <div>
    <div id="grad" class="container student-card card">
    <div class=" card-content row">

        <div class="col s4">

            <div class='greeting'>HELLO</div>

            <div class="student-name"> {{ dean.name }}</div>

        </div>
        <div class="col s4">
            <center>
                <div id=showImage>
                <img height=100 width=100 id="stud-img" class="student-image" ng-src="./app/instructor_images/{{dean.college_name}}/{{dean.instructor_id}}.jpg" onerror="this.src='http://placehold.it/180x200'"style="height: 200px; width: 200px;">
                 </div>
                <br><br>

                <div style="margin-bottom: 0px !important;" class="row">

                    <form class="uploadImage" action="/dupload_photo" method="post" enctype="multipart/form-data">
                        <input class="file-input" id="file" type='file' ng-model="photo" name="photo" value="file" ng-required="true">
                        <br><br>
                        <input name="submit" class="waves-effect waves-light  btn" type="submit" value="Upload File">
                    </form>
                </div>
            </center>

        </div>
        <div class="col s4">
            <a class="logout btn waves-effect waves-light right" ng-click="logout()">LOG OUT </a>
        </div>
    </div>

    <div class="card-action">
        <div class="row">

            <div class="col s4">
                <div class="small-title">SCHOOL</div>

                <div class="small-content school">{{ dean.college_name }}</div>

            </div>

            <div class="col s4">
                <div class="small-title">ROOM NO</div>

                <div class="small-content stream">{{ dean.room_no }}</div>

            </div>
            <div class="col s4">
                <div class="small-title">DATE OF JOINING</div>

                <div class="small-contenty yoa">{{ dean.date_of_joining }}</div>

            </div>
        </div>
    </div>

    <div class="card-action">
        <div class="row">
            <div class="col s12">
                <div class="input-field col s6">
                    <input placeholder="Email-Id" id="last_name" type="text" class="validate editField email-id" disabled ng-model="dean.email">
                </div>

                <div class="input-field col s6">
                    <input placeholder="phone number" id="last_name" type="text" class="validate editField phone" disabled ng-model="dean.phone">
                </div>
            </div>
        </div>
    </div>

    <div class="card-action">
        <a class="check-status btn waves-effect waves-light" ng-click="checkStatus()">
            check Status
        </a>
    </div>
</div>s
</div>
</div>

<script>

    $("#file").on('change', function () {
        console.log("image change section");
        var reader = new FileReader();

    reader.onload = function (e) {
        // get loaded data and render thumbnail.
        document.getElementById("stud-img").src = e.target.result;
    };

    // read the image file as a data URL.
    reader.readAsDataURL(this.files[0]);
 });

   $('.uploadImage').submit(function(e){
     e.preventDefault();
    
     
     $(this).ajaxSubmit({
       contentType: 'application/json',
       success: function(response){
         console.log('image uploaded');
         alert(response.message); 
       }
   });
     

     return false;
});
</script>
